name: Kids Podcast (Daily)

on:
  # PAUSED: Uncomment to re-enable
  # schedule:
  #   # Run at 14:00 UTC (6:00 AM PST)
  #   - cron: '0 14 * * *'
  workflow_dispatch:
    inputs:
      duration:
        description: 'Duration in minutes'
        required: false
        default: '12'
      voice_type:
        description: 'TTS Voice type (wavenet, neural, studio, chirp3-hd)'
        required: false
        type: choice
        options:
        - wavenet
        - neural
        - studio
        - chirp3-hd

permissions:
  contents: write

jobs:
  generate:
    uses: ./.github/workflows/common.yml
    with:
      duration: ${{ inputs.duration || '15' }}
      lookback_days: "1"
      type: "kids_daily"
      title_prefix: "Kids News"
      voice_type: ${{ inputs.voice_type }}
    secrets:
      GOOGLE_API_KEY: ${{ secrets.GOOGLE_API_KEY }}
      GCP_SA_KEY: ${{ secrets.GCP_SA_KEY }}
      NOTIFICATION_WEBHOOK_URL: ${{ secrets.NOTIFICATION_WEBHOOK_URL }}
