name: Weekly Podcast Generation

on:
  schedule:
    # Run every Saturday at 15:00 UTC (7:00 AM PST)
    - cron: '0 15 * * 6'
  workflow_dispatch:

permissions:
  contents: write

jobs:
  generate:
    uses: ./.github/workflows/common.yml
    with:
      duration: "20"
      lookback_days: "7"
      type: "weekly"
      title_prefix: "Weekly News Round-up"
    secrets:
      GOOGLE_API_KEY: ${{ secrets.GOOGLE_API_KEY }}
      GCP_SA_KEY: ${{ secrets.GCP_SA_KEY }}
